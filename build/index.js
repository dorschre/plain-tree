var r=function(r){return r&&"data"in r?r.data:r},t=function(r){return Boolean(r&&r.children&&r.children.length)},e=function(){return function(r){for(var t="";t.length<36;)t+=Math.random().toString(36).substring(2,15);return t.slice(0,36)}()},n=function(r){return Array.isArray(r)&&r.length?r[0]:null},i=function(r,t){var e=t.disallowedKeys,n=void 0===e?[]:e;return Object.keys(r).filter(function(r){return!n.includes(r)}).reduce(function(t,e){return t[e]=r[e],t},{})},o=function r(t){var e=t.parent,n={data:t.data,children:t.children,id:t.id,parentId:null,value:t.value,label:t.label};return e&&(n.parentId=e.id),n.children=t.children.map(function(t){return r(t)}),n},a=function r(t){var e=t.parent,n=t.children,i={data:t.data,id:t.id,parentId:null,value:t.value,label:t.label};return e&&(i.parentId=e.id),0!==n.length&&(i.children=t.children.map(function(t){return r(t)})),i},h=function(r){if(null===r)return[1];var e=[1],n=[r],i=[];do{for(;n.length;){var o,a=n.pop();t(a)&&(o=i).push.apply(o,a.children)}i.length&&(e[e.length]=i.length);var h=[n,i];i=h[0],n=h[1]}while(n.length);return e},u=function(r,e){void 0===e&&(e=null);var n=[r],i=[],o=[[e(r)]];do{for(;n.length;){var a,h=n.pop();t(h)&&(a=i).push.apply(a,h.children)}i.length&&(o[o.length]=e?i.map(function(r){return e(r)}):i);var u=[n,i];i=u[0],n=u[1]}while(n.length);return o},l=/*#__PURE__*/function(){function e(r){void 0===r&&(r=null),this.root=void 0,this.root=r,this.root=r}var i=e.prototype;return i._traverse=function(r,e,n){for(var i,o=void 0===e?{}:e,a=o.some,h=o.every,u=o.returnBoolean,l=o.returnArray,s=[this.root],d=[],c=!1;s.length;){var f=s.shift();if(t(f)&&s[n].apply(s,f.children),a||h){var v=r(f);if(v&&l&&d.push(f),h&&!v||a&&v){c=!0,i=v;break}}else r(f)}if(h){if(u)return!c;if(l)return d}else if(a){if(u)return Boolean(i);if(l)return d}},i._traverseBreathFirst=function(r,t){return this._traverse(r,t,"push")},i._traverseDepthFirst=function(r,t){return this._traverse(r,t,"unshift")},i.traverseBreathFirst=function(r){this._traverseBreathFirst(r)},i.traverseDepthFirst=function(r){this._traverseDepthFirst(r)},i.someBreathFirst=function(r){return Boolean(this._traverseBreathFirst(r,{some:!0,returnBoolean:!0}))},i.someDepthFirst=function(r){return Boolean(this._traverseDepthFirst(r,{some:!0,returnBoolean:!0}))},i.everyBreathFirst=function(r){return Boolean(this._traverseDepthFirst(r,{every:!0,returnBoolean:!0}))},i.everyDepthFirst=function(r){return Boolean(this._traverseDepthFirst(r,{every:!0,returnBoolean:!0}))},i.findOneBreathFirst=function(r){var t=this._traverseBreathFirst(r,{some:!0,returnArray:!0});return n(t)},i.findOneDepthFirst=function(r){var t=this._traverseDepthFirst(r,{some:!0,returnArray:!0});return n(t)},i.findAllBreathFirst=function(r){var t=this._traverseBreathFirst(r,{every:!0,returnArray:!0});return Array.isArray(t)?t:[]},i.findAllDepthFirst=function(r){var t=this._traverseDepthFirst(r,{every:!0,returnArray:!0});return Array.isArray(t)?t:[]},i.flatMap=function(r){void 0===r&&(r=null);var t=[];return this._traverseBreathFirst(function(e){r&&t.push(r(e))||t.push(e)}),t},i.flattenData=function(){return this.flatMap(r)},i.flattenByHeight=function(r){return void 0===r&&(r=null),u(this.root,r)},i.flattenDataByHeight=function(){return this.flattenByHeight(r)},i.widthsByHeight=function(){return h(this.root)},i.nodesAtHeight=function(r){var e=this.root?[1]:[],n=[this.root];if(e.length===r)return n;var i=[];do{for(;n.length;){var o,a=n.pop();t(a)&&(o=i).push.apply(o,a.children)}if(e.length===r)return i;i.length&&(e[e.length]=i.length);var h=[n,i];i=h[0],n=h[1]}while(n.length);return[]},i.countNodes=function(){return this.widthsByHeight().reduce(function(r,t){return r+t},0)},i.maxWidth=function(){return Math.max.apply(Math,this.widthsByHeight())},i.height=function(){return this.root?this.root.height():0},i.toJson=function(){return this.root?this.root.toJson():""},i.toObject=function(){return this.root?this.root.toObject():[]},e}(),s=/*#__PURE__*/function(){function r(r,t){var n=void 0===t?{}:t,i=n.id,o=n.parent;this.data=void 0,this.children=[],this.id=void 0,this.value=void 0,this.label=void 0,this.parent=void 0,this.id=void 0!==i?i:e(),this.parent=o||null,this.value=i,this.label="label"in r?r.label:i,this.data=r,this.children=[]}var t=r.prototype;return t.addChild=function(t,e){var n=new r(t,{id:(void 0===e?{}:e).id,parent:this});return this.children.push(n),n},t._removeChildren=function(r){var t=[];return this.children=this.children.filter(function(e){return!r(e)||(t.push(e),!1)}),t},t.removeChildren=function(r){return this._removeChildren(r)},t.removeChildrenByData=function(r){return this._removeChildren(function(t){return t.data===r})},t.removeChildrenById=function(r){return this._removeChildren(function(t){return t.id===r})},t.isLeaf=function(){return null!==this.parent&&!Boolean(this.children.length)},t.hasChildren=function(){return Boolean(this.children.length)},t.toJson=function(){var r=o(this);return JSON.stringify(r)},t.toObject=function(){var r=[];if(0!==this.children.length)for(var t=0;t<this.children.length;t++)r.push(a(this.children[t]));return r},t.depth=function(){if(this.parent){for(var r=0,t=this;t.parent;)r+=1,t=t.parent;return r}return 0},t.widthsByHeight=function(){return h(this)},t.height=function(){return this.widthsByHeight().length-1},t.flattenByHeight=function(r){return void 0===r&&(r=null),u(this,r)},r}(),d="id",c="parentId",f="children",v=function(r,t){var e=void 0===t?{}:t,n=e.idKey,i=void 0===n?d:n,o=e.parentIdKey,a=void 0===o?c:o,h=e.childrenKey,u=void 0===h?f:h,l=[],s={};return r.forEach(function(r){var t=r[i],e=r[a];s[t]=s[t]||[],r[u]=s[t],e?(s[e]=s[e]||[],s[e].push(r)):l.push(r)}),l},p=function(r,t,e){void 0===t&&(t=null);var n=void 0===e?{}:e,o=n.idKey,a=void 0===o?d:o,h=n.parentIdKey,u=n.childrenKey,l=i(r,{disallowedKeys:[a,void 0===h?c:h,void 0===u?f:u]});return t?t.addChild(l,{id:r[a]}):new s(l,{id:r[a]})},y=function r(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n={}),t.length){var i=n.childrenKey,o=void 0===i?f:i;t.forEach(function(t){var i=p(t,e,n);r(t[o],i,n)})}},g=function(r,t){if(void 0===t&&(t={}),!r.length)return new l;if(r.length>1)throw new Error("Converting an array to tree only accepts an array with 0 or 1 node currently");var e=t.childrenKey,n=void 0===e?f:e,i=r[0],o=p(i,null,t),a=new l(o);return y(i[n],o,t),a};exports.Node=s,exports.Tree=l,exports.createNodes=y,exports.createTreeArrayFromFlatArray=v,exports.createTreeFromFlatArray=function(r,t){void 0===t&&(t={});var e=function(r,t){var e=void 0===t?{}:t,n=e.idKey,o=e.parentIdKey;if(n||o){var a=[].concat(n?[n]:[],o?[o]:[]);return r.map(function(r){var t=i(r,{disallowedKeys:a});return n&&(t[d]=r[n]),o&&(t[c]=r[o]),t})}return r}(r,t),n=v(e);if(n.length){if(n.length=1)return g(n);throw new Error("Converting an array to tree only accepts an array with 0 or 1 node currently")}return new l},exports.createTreeFromTreeArray=g,exports.filterObject=i,exports.firstArrayElement=n,exports.generateId=e,exports.hasChildren=t,exports.nodeData=r,exports.nodesData=function(t){return t.map(r)},exports.objectToNode=p;
//# sourceMappingURL=index.js.map
